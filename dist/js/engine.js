var Engine=function(e){var a,n=e.document,s=e.window,r=n.createElement("canvas"),c=r.getContext("2d");function i(){var e=Date.now();!function(e){(function(e){allEnemies.forEach(function(a){a.update(e)}),player.update()})(e),allEnemies.forEach(function(e){Math.abs(e.x-player.x)<51&&12==Math.abs(e.y-player.y)&&(document.querySelector("#collision").play(),generatePlayerLocation("collide"))})}((e-a)/1e3),function(){var e,a,n=["images/water-block.png","images/stone-block.png","images/stone-block.png","images/stone-block.png","images/grass-block.png","images/grass-block.png"];for(c.clearRect(0,0,r.width,r.height),e=0;e<6;e++)for(a=0;a<5;a++)c.drawImage(Resources.get(n[e]),101*a,83*e);switch(player.score){case 3:allGems[0].render(),checkItem(allGems[0]);break;case 5:lives.render(),checkItem(lives);break;case 6:allGems[1].render(),checkItem(allGems[1]);break;case 9:allGems[2].render(),checkItem(allGems[2])}allEnemies.forEach(function(e){e.render()}),player.render()}(),a=e,s.requestAnimationFrame(i)}r.width=505,r.height=606,r.style.display="none",n.body.appendChild(r),Resources.load(["images/stone-block.png","images/water-block.png","images/grass-block.png","images/enemy-bug.png","images/char-boy.png","images/char-cat-girl.png","images/char-horn-girl.png","images/char-pink-girl.png","images/char-princess-girl.png","images/Gem-Blue.png","images/Gem-Green.png","images/Gem-Orange.png","images/Heart.png"]),Resources.onReady(function(){startGame(),a=Date.now(),i()}),e.ctx=c}(this);